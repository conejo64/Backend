import{_ as De,j as we,r as n,k as Ce,o as Re,F as Ie,b as u,l as Ue,c as R,d as I,f as t,e,g as i,m as B,n as Ne,i as m,t as p,p as W,q as xe,s as Be}from"./index.7427913b.js";import{C as ke}from"./CasesService.96a0752b.js";import{O as Fe}from"./OriginDocumentService.c83fcdbd.js";import{B as Le}from"./BrandService.8f5f464e.js";import{D as Pe}from"./DepartmentService.395eda6f.js";import{P as Te}from"./ProvinceService.108e589b.js";import{R as Ae}from"./ReminderService.8b729ff0.js";import{U as Oe}from"./UserService.21546f89.js";import{S as qe}from"./StatusService.64e55fd7.js";import{S as Ee}from"./StatusSecretaryService.573c5dae.js";const a=U=>(xe("data-v-3425c9bb"),U=U(),Be(),U),Me={class:"grid"},je={class:"col-12"},ze={key:0,class:"card"},$e=a(()=>e("div",{class:"my-2"},null,-1)),Ge={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Je=a(()=>e("h5",{class:"m-0"},"Mis Casos",-1)),Ke={class:"block mt-2 md:mt-0 p-input-icon-left"},He=a(()=>e("i",{class:"pi pi-search"},null,-1)),Qe=a(()=>e("span",{class:"p-column-title"},"Fecha Recepci\xF3n",-1)),We=a(()=>e("span",{class:"p-column-title"},"Recibido Fisico",-1)),Xe=a(()=>e("span",{class:"p-column-title"},"No. Circular",-1)),Ye=a(()=>e("span",{class:"p-column-title"},"Origen",-1)),Ze=a(()=>e("span",{class:"p-column-title"},"Descripci\xF3n",-1)),el=a(()=>e("span",{class:"p-column-title"},"Area",-1)),ll=a(()=>e("span",{class:"p-column-title"},"Fecha Vencimiento",-1)),ol=a(()=>e("span",{class:"p-column-title"},"Estado",-1)),tl={key:1,class:"card"},al={class:"col-12"},sl={class:"card"},nl=a(()=>e("h5",null,"Responder caso",-1)),dl=a(()=>e("hr",null,null,-1)),il={class:"p-fluid formgrid grid"},ul={class:"field col-12 md:col-4"},rl=a(()=>e("label",null,"No. Requerimiento",-1)),cl={class:"field col-12 md:col-4"},ml=a(()=>e("label",{for:"calendar"},"Fecha Contestaci\xF3n",-1)),pl={class:"field col-12"},vl=a(()=>e("label",null,"Comentario",-1)),_l={class:"col-12 md:col-8"},hl={class:"card"},bl=a(()=>e("h5",null,"Respaldos",-1)),fl=a(()=>e("br",null,null,-1)),gl={key:2,class:"card"},Vl={class:"col-12"},yl={class:"card"},Sl=a(()=>e("h5",null,"Registro nuevo caso",-1)),Dl=a(()=>e("hr",null,null,-1)),wl={class:"p-fluid formgrid grid"},Cl={class:"field col-12 md:col-4"},Rl=a(()=>e("label",null,"No. Circular",-1)),Il={class:"field col-12 md:col-4"},Ul=a(()=>e("label",{for:"calendar"},"Fecha Recepci\xF3n",-1)),Nl={class:"field col-12 md:col-4"},xl=a(()=>e("label",{for:"state"},"Origen de Documento",-1)),Bl={class:"col-12 md:col-4"},kl={class:"field"},Fl=a(()=>e("label",{class:"mb-3"},"Recepci\xF3n de Documento",-1)),Ll={class:"formgrid grid"},Pl={class:"field-radiobutton col-6"},Tl=a(()=>e("label",{for:"physicallyReceived"},"F\xEDsico",-1)),Al={class:"field-radiobutton col-6"},Ol=a(()=>e("label",{for:"digitallyReceived"},"Digital",-1)),ql={class:"field col-12 md:col-4"},El=a(()=>e("label",{for:"lastname2"},"No Oficio Referido en SB",-1)),Ml={key:0,class:"p-invalid"},jl={class:"field col-12 md:col-4"},zl=a(()=>e("label",{for:"lastname2"},"No. de Juicio",-1)),$l={class:"field col-12 md:col-4"},Gl=a(()=>e("label",{for:"calendar"},"Fecha Emisi\xF3n",-1)),Jl={class:"field col-12"},Kl=a(()=>e("label",{for:"description"},"Descripci\xF3n",-1)),Hl={class:"field col-12 md:col-4"},Ql=a(()=>e("label",null,"Dirigido a: ",-1)),Wl={class:"field col-12 md:col-4"},Xl=a(()=>e("label",null,"Area que responde",-1)),Yl={class:"field col-12 md:col-4"},Zl=a(()=>e("label",null,"Destinatario responsable",-1)),eo={class:"field col-12 md:col-4"},lo=a(()=>e("label",null,"Notificar a:",-1)),oo={class:"field col-12 md:col-4"},to=a(()=>e("label",null,"Asunto de correo:",-1)),ao={class:"field col-12 md:col-4"},so=a(()=>e("label",{for:"calendar"},"Fecha L\xEDmite",-1)),no={class:"field col-12 md:col-4"},io=a(()=>e("label",null,"Lugar Destinatario",-1)),uo={class:"field col-12 md:col-4"},ro=a(()=>e("label",{for:"calendar"},"Fecha Vencimiento",-1)),co={class:"field col-12 md:col-4"},mo=a(()=>e("label",{for:"calendar"},"Env\xEDo Recordatorio",-1)),po={class:"col-12"},vo={class:"card"},_o=a(()=>e("h5",null,"Respaldos",-1)),ho=a(()=>e("br",null,null,-1)),bo={__name:"List",setup(U){const T=we(),g=n(!0),V=n(!1),y=n(!1),S=n(!1);n(null);const k=n(null),N=n({page:0,pageSize:10,total:0}),F=n(null),x=n(null),A=n(null),O=n(null),q=n(null),E=n(null),M=n(null),j=n(null),z=n(null),X=n(null),Y=n(null);n(!1),n(!1),n({});const $=n(null),Z=n(null),D=n({}),_=n(!1),s=n({requirementNumber:null,receptionDate:null,originDocumentId:null,physicallyReceived:null,digitallyReceived:null,documentNumber:null,sbsNumber:null,judgmentNumber:null,issueDate:null,description:null,brandId:null,departmentId:null,userId:null,typeRequirementId:null,notification:null,subject:null,transferDate:null,deadline:null,provinceId:null,dueDate:null,reminderId:null,replyDate:null,comments:null,responseDate:null,caseStatusId:null,observationDepartment:null,caseStatusSecretaryId:null,acknowledgmentDate:null,extensionRequestDate:null,newExtensionRequestDate:null,observationExtension:null}),v=n({replyDate:null,comments:null}),L=new ke,ee=new Fe,le=new Le,oe=new Pe,te=new Te,ae=new Ae,se=new Oe,ne=new qe,de=new Ee;Ce(()=>{Ve()}),Re(()=>{G(),ue(),re(),ce(),me(),pe(),ve(),_e(),he()});const G=()=>{var h;S.value=!0;const o={page:1,pageSize:10,search:(h=D.value.global.value)!=null?h:""};L.readCases(o).then(b=>{k.value=b.data.entities,N.value=b.data.pagination}).finally(()=>{S.value=!1,g.value=!0,V.value=!1,y.value=!1})},ie=d=>{S.value=!0;const{page:o,rows:h}=d,b={page:o+1,pageSize:h,search:""};L.readCases(b).then(r=>{k.value=r.data.entities,N.value=r.data.pagination}).finally(()=>{S.value=!1})},ue=()=>{ee.readCatalogsAll().then(d=>{O.value=d.data})},re=()=>{le.readCatalogsAll().then(d=>{q.value=d.data})},ce=()=>{oe.readCatalogsAll().then(d=>{E.value=d.data})},me=()=>{te.readCatalogsAll().then(d=>{M.value=d.data})},pe=()=>{ae.readCatalogsAll().then(d=>{j.value=d.data})},ve=()=>{se.readUsersAll().then(d=>{console.log(d.data),z.value=d.data})},_e=()=>{ne.readCatalogsAll().then(d=>{X.value=d.data})},he=()=>{de.readCatalogsAll().then(d=>{Y.value=d.data})},be=d=>{let o={...d};F.value=o.id,A.value=o.dueDate,x.value=o.documentNumber,_.value=!1,g.value=!1,V.value=!0,y.value=!1},P=()=>{g.value=!0,V.value=!1,y.value=!1,_.value=!1,s.value={},v.value={},F.value=null,x.value=null,A.value=null},fe=()=>{_.value=!0,L.replyCase(F.value,v.value).then(()=>{T.add({severity:"success",summary:"Successful",detail:"Respuesta enviada a secretar\xEDa",life:3e3})}).catch(()=>{T.add({severity:"error",summary:"Error",detail:"Error enviando respuesta a secretar\xEDa",life:3e3})}).finally(()=>{P(),G(),_.value=!1,v.value={}})},ge=d=>{s.value={...d},g.value=!1,V.value=!1,y.value=!0},Ve=()=>{D.value={global:{value:null,matchMode:Ie.CONTAINS}}};return(d,o)=>{const h=u("Toast"),b=u("Toolbar"),r=u("InputText"),c=u("Column"),w=u("Button"),ye=u("DataTable"),C=u("Calendar"),J=u("Textarea"),K=u("FileUpload"),f=u("Dropdown"),H=u("RadioButton"),Q=Ue("tooltip");return R(),I("div",Me,[t(h),e("div",je,[g.value?(R(),I("div",ze,[t(b,{class:"mb-4"},{start:i(()=>[$e]),_:1}),t(ye,{ref_key:"dt",ref:Z,value:k.value,selection:$.value,"onUpdate:selection":o[1]||(o[1]=l=>$.value=l),dataKey:"id",paginator:!0,rows:N.value.pageSize,filters:D.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrar {first} a {last} de {totalRecords} casos",responsiveLayout:"scroll",totalRecords:N.value.total,onPage:o[2]||(o[2]=l=>ie(l)),lazy:"",loading:S.value},{header:i(()=>[e("div",Ge,[Je,e("span",Ke,[He,t(r,{modelValue:D.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=l=>D.value.global.value=l),placeholder:"Buscar..."},null,8,["modelValue"])])])]),default:i(()=>[t(c,{field:"category",header:"Fecha Recepci\xF3n",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[Qe,m(" "+p(l.data.receptionDate),1)]),_:1}),t(c,{field:"name",header:"Recibido Fisico",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[We,m(" "+p(l.data.physicallyReceived),1)]),_:1}),t(c,{field:"code",header:"No. Circular",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[Xe,m(" "+p(l.data.documentNumber),1)]),_:1}),t(c,{header:"Origen",headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[Ye,m(" "+p(l.data.originDocumentDescription),1)]),_:1}),t(c,{field:"name",header:"Descripci\xF3n",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[Ze,m(" "+p(l.data.description),1)]),_:1}),t(c,{field:"name",header:"Area",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[el,m(" "+p(l.data.departmentDescription),1)]),_:1}),t(c,{field:"category",header:"Fecha Vencimiento",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[ll,m(" "+p(l.data.dueDate),1)]),_:1}),t(c,{field:"inventoryStatus",header:"Estado",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[ol,m(" "+p(l.data.caseStatusDescription),1)]),_:1}),t(c,{headerStyle:"min-width:10rem;"},{body:i(l=>[W(t(w,{icon:"pi pi-eye",class:"p-button-rounded p-button-text mr-2 mb-2",onClick:Se=>ge(l.data)},null,8,["onClick"]),[[Q,{value:"Ver"},void 0,{top:!0}]]),W(t(w,{icon:"pi pi-send",class:"p-button-rounded p-button-text mr-2 mb-2",onClick:Se=>be(l.data)},null,8,["onClick"]),[[Q,"Gestionar",void 0,{top:!0}]])]),_:1})]),_:1},8,["value","selection","rows","filters","totalRecords","loading"])])):B("",!0),V.value?(R(),I("div",tl,[e("div",al,[e("div",sl,[nl,dl,e("div",il,[e("div",ul,[rl,t(r,{type:"text",disabled:!0,modelValue:x.value,"onUpdate:modelValue":o[3]||(o[3]=l=>x.value=l)},null,8,["modelValue"])]),e("div",cl,[ml,t(C,{showIcon:!0,showButtonBar:!0,modelValue:v.value.replyDate,"onUpdate:modelValue":o[4]||(o[4]=l=>v.value.replyDate=l)},null,8,["modelValue"])]),e("div",pl,[vl,t(J,{rows:"4",modelValue:v.value.comments,"onUpdate:modelValue":o[5]||(o[5]=l=>v.value.comments=l)},null,8,["modelValue"])]),e("div",_l,[e("div",hl,[bl,t(K,{name:"demo[]",url:"./upload.php",onUpload:d.onUpload,multiple:!0,accept:"image/*",maxFileSize:1e6},null,8,["onUpload"])])])])]),fl,t(w,{label:"Responder a Secretar\xEDa",class:"p-button-warning mr-2 mb-2",onClick:o[6]||(o[6]=l=>fe())}),t(w,{label:"Cancelar",class:"p-button-raised p-button-secondary mr-2 mb-2",onClick:o[7]||(o[7]=l=>P())})])])):B("",!0),y.value?(R(),I("div",gl,[e("div",Vl,[e("div",yl,[Sl,Dl,e("div",wl,[e("div",Cl,[Rl,t(r,{type:"text",modelValue:s.value.documentNumber,"onUpdate:modelValue":o[8]||(o[8]=l=>s.value.documentNumber=l)},null,8,["modelValue"])]),e("div",Il,[Ul,t(C,{showIcon:!0,showButtonBar:!0,modelValue:s.value.receptionDate,"onUpdate:modelValue":o[9]||(o[9]=l=>s.value.receptionDate=l)},null,8,["modelValue"])]),e("div",Nl,[xl,t(f,{id:"state",modelValue:s.value.originDocumentId,"onUpdate:modelValue":o[10]||(o[10]=l=>s.value.originDocumentId=l),options:O.value,optionLabel:"description",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",Bl,[e("div",kl,[Fl,e("div",Ll,[e("div",Pl,[t(H,{name:"option",value:"SI",modelValue:s.value.physicallyReceived,"onUpdate:modelValue":o[11]||(o[11]=l=>s.value.physicallyReceived=l)},null,8,["modelValue"]),Tl]),e("div",Al,[t(H,{name:"option",value:"NO",modelValue:s.value.physicallyReceived,"onUpdate:modelValue":o[12]||(o[12]=l=>s.value.physicallyReceived=l)},null,8,["modelValue"]),Ol])])])]),e("div",ql,[El,t(r,{type:"text",modelValue:s.value.sbsNumber,"onUpdate:modelValue":o[13]||(o[13]=l=>s.value.sbsNumber=l),required:"true",autofocus:"",class:Ne({"p-invalid":_.value&&!s.value.sbsNumber})},null,8,["modelValue","class"]),_.value&&!s.value.sbsNumber?(R(),I("small",Ml,"Campo requerido")):B("",!0)]),e("div",jl,[zl,t(r,{id:"lastname2",type:"text",modelValue:s.value.judgmentNumber,"onUpdate:modelValue":o[14]||(o[14]=l=>s.value.judgmentNumber=l)},null,8,["modelValue"])]),e("div",$l,[Gl,t(C,{showIcon:!0,showButtonBar:!0,modelValue:s.value.issueDate,"onUpdate:modelValue":o[15]||(o[15]=l=>s.value.issueDate=l)},null,8,["modelValue"])]),e("div",Jl,[Kl,t(J,{rows:"4",modelValue:s.value.description,"onUpdate:modelValue":o[16]||(o[16]=l=>s.value.description=l)},null,8,["modelValue"])]),e("div",Hl,[Ql,t(f,{id:"state",modelValue:s.value.brandId,"onUpdate:modelValue":o[17]||(o[17]=l=>s.value.brandId=l),options:q.value,optionLabel:"description",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",Wl,[Xl,t(f,{modelValue:s.value.departmentId,"onUpdate:modelValue":o[18]||(o[18]=l=>s.value.departmentId=l),options:E.value,optionLabel:"description",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",Yl,[Zl,t(f,{modelValue:s.value.userId,"onUpdate:modelValue":o[19]||(o[19]=l=>s.value.userId=l),options:z.value,optionLabel:"fullName",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",eo,[lo,t(r,{type:"text",modelValue:s.value.notification,"onUpdate:modelValue":o[20]||(o[20]=l=>s.value.notification=l)},null,8,["modelValue"])]),e("div",oo,[to,t(r,{type:"text",modelValue:s.value.subject,"onUpdate:modelValue":o[21]||(o[21]=l=>s.value.subject=l)},null,8,["modelValue"])]),e("div",ao,[so,t(C,{showIcon:!0,showButtonBar:!0,modelValue:s.value.deadline,"onUpdate:modelValue":o[22]||(o[22]=l=>s.value.deadline=l)},null,8,["modelValue"])]),e("div",no,[io,t(f,{modelValue:s.value.provinceId,"onUpdate:modelValue":o[23]||(o[23]=l=>s.value.provinceId=l),options:M.value,optionLabel:"description",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",uo,[ro,t(C,{showIcon:!0,showButtonBar:!0,modelValue:s.value.dueDate,"onUpdate:modelValue":o[24]||(o[24]=l=>s.value.dueDate=l)},null,8,["modelValue"])]),e("div",co,[mo,t(f,{modelValue:s.value.reminderId,"onUpdate:modelValue":o[25]||(o[25]=l=>s.value.reminderId=l),options:j.value,optionLabel:"description",optionValue:"id",placeholder:"Seleccione"},null,8,["modelValue","options"])]),e("div",po,[e("div",vo,[_o,t(K,{name:"demo[]",url:"./upload.php",onUpload:d.onUpload,multiple:!0,accept:"image/*",maxFileSize:1e6},null,8,["onUpload"])])])])]),ho,t(w,{label:"Cancelar",class:"p-button-raised p-button-secondary mr-2 mb-2",onClick:o[26]||(o[26]=l=>P())})])])):B("",!0)])])}}},Uo=De(bo,[["__scopeId","data-v-3425c9bb"]]);export{Uo as default};
